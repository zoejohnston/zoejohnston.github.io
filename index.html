<!DOCTYPE html>
<html>

<script id="vertex-shader" type="x-shader/x-vertex">
    #ifdef GL_ES
      precision highp float;
    #endif

    attribute vec2 aVertexPosition;
    attribute vec2 aTextureCoord;

    varying vec2 vScrollLeft;
    varying vec2 vScrollRight;

    uniform float time;
  
    void main() {
      gl_Position = vec4(aVertexPosition, 0.0, 1.0);

      vScrollLeft = aTextureCoord + vec2(time, time);
      vScrollRight = aTextureCoord + vec2(-time, time) + 0.2;
    }
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
    #ifdef GL_ES
      precision highp float;
    #endif

    varying vec2 vScrollLeft;
    varying vec2 vScrollRight;
  
    uniform vec4 uGlobalColor;
    uniform sampler2D texture0;
    uniform sampler2D texture1;
  
    void main() {
        vec4 displacementMap = texture2D(texture1, vScrollLeft);
        vec4 baseColor = texture2D(texture0, vScrollRight + 0.2 * (displacementMap.r - 0.5));
        
        vec4 leftNoise = texture2D(texture1, vScrollLeft);
        vec4 rightNoise = texture2D(texture1, vScrollRight);
        vec4 waterHighlights = mix(leftNoise, rightNoise, 0.5);

        vec4 water;
        if (waterHighlights.r < 0.45) {
            water = baseColor + 0.1 * vec4(0.93, 0.78, 0.38, 0.0);

        } else if (waterHighlights.r > 0.66) {
            water = baseColor + 0.4 * vec4(0.93, 0.78, 0.38, 0.0);

        } else {
            water = baseColor;
        }

        gl_FragColor = water;
    }
</script>

<script src="index.js" type="module"></script>

<style>
    div {
        position: absolute;
        transform: translate(100%, 100%);
    }
    body {
      background-color: #fef9c2;
    }
    h1 {
        text-align: center;
        color:#fc98a4;
        font-family:'trebuchet ms';
    }
    p {
        color:#fef9c2;
        font-family:'trebuchet ms';
        color:#fc98a4;
    }
    canvas {
        border-radius: 25px;
        padding-left: 0;
        padding-right: 0;
        margin-left: auto;
        margin-right: auto;
        display: block;
    }   
</style>

<header>
    <ul>
        <li><a href="index.html">Home</a></li>
    </ul>
</header>

<body>
    <div>
        <h1>Hello World</h1>
        <p>I'm hosted with GitHub Pages.</p>
    </div>

    <canvas id="glcanvas" width="600" height="460">
        Oh no! Your browser doesn't support canvas!
    </canvas>
</body>

</html>
